test_name: test_lookup_attributes
test_filename: test_manifest_object_lookup.py
docstring:
  Tests the attributes of the object lookup.
---
ManifestObjectLookup(
  model_object_lookups=(
    SimpleMetricInputModelObjectLookup(
      model_id=bookings_source,
      time_dimension_name_to_grain={'booking_time': QUARTER},
      entity_lookup=EntityLookup(
        entity_name_to_type={'booking': PRIMARY, 'listing': FOREIGN},
        entity_type_to_names={PRIMARY: {'booking'}, FOREIGN: {'listing'}},
      ),
      aggregation_configuration_to_simple_metric_inputs={
        SimpleMetricAggregationConfiguration(
          time_dimension_name='booking_time',
          time_grain=QUARTER,
        ): ['bookings'],
      },
    ),
    ModelObjectLookup(
      model_id=listings_source,
      entity_lookup=EntityLookup(
        entity_name_to_type={'listing': PRIMARY},
        entity_type_to_names={PRIMARY: {'listing'}},
      ),
    ),
  ),
  min_time_grain_in_time_spine=QUARTER,
  min_time_grain_used_in_models=QUARTER,
  expanded_time_grains=(ExpandedTimeGranularity(name='custom_year', base_granularity=YEAR),),
)
